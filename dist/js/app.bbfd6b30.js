(function(t){function e(e){for(var r,a,i=e[0],c=e[1],s=e[2],d=0,l=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&l.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);p&&p(e);while(l.length)l.shift()();return u.push.apply(u,s||[]),n()}function n(){for(var t,e=0;e<u.length;e++){for(var n=u[e],r=!0,a=1;a<n.length;a++){var i=n[a];0!==o[i]&&(r=!1)}r&&(u.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},a={app:0},o={app:0},u=[];function i(t){return c.p+"js/"+({dashboard:"dashboard",productAdd:"productAdd",productEdit:"productEdit",signin:"signin",signup:"signup"}[t]||t)+"."+{dashboard:"002eaa72",productAdd:"169fd507",productEdit:"d914386c",signin:"39cdcce8",signup:"0006a8d6"}[t]+".js"}function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={dashboard:1,productAdd:1,productEdit:1,signin:1,signup:1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var r="css/"+({dashboard:"dashboard",productAdd:"productAdd",productEdit:"productEdit",signin:"signin",signup:"signup"}[t]||t)+"."+{dashboard:"4124abd5",productAdd:"ae46897e",productEdit:"a0d67afc",signin:"94c2b04b",signup:"9faf76d0"}[t]+".css",o=c.p+r,u=document.getElementsByTagName("link"),i=0;i<u.length;i++){var s=u[i],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===r||d===o))return e()}var l=document.getElementsByTagName("style");for(i=0;i<l.length;i++){s=l[i],d=s.getAttribute("data-href");if(d===r||d===o)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var r=e&&e.target&&e.target.src||o,u=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=r,delete a[t],p.parentNode.removeChild(p),n(u)},p.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){a[t]=0})));var r=o[t];if(0!==r)if(r)e.push(r[2]);else{var u=new Promise((function(e,n){r=o[t]=[e,n]}));e.push(r[2]=u);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=i(t);var l=new Error;s=function(e){d.onerror=d.onload=null,clearTimeout(p);var n=o[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,n[1](l)}o[t]=void 0}};var p=setTimeout((function(){s({type:"timeout",target:d})}),12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var p=d;u.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},4360:function(t,e,n){"use strict";var r=n("2b0e"),a=n("2f62"),o=(n("96cf"),n("1da1")),u=n("bc3a"),i=n.n(u),c={namespaced:!0,state:{token:null,user:null},getters:{authenticated:function(t){return t.token&&t.user},user:function(t){return t.user}},mutations:{SET_TOKEN:function(t,e){t.token=e},SET_USER:function(t,e){t.user=e}},actions:{signIn:function(t,e){return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.dispatch,n.next=3,i.a.post("auth/login",e);case 3:return a=n.sent,n.abrupt("return",r("attempt",a.data.access_token));case 5:case"end":return n.stop()}}),n)})))()},attempt:function(t,e){return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.commit,a=t.state,e&&r("SET_TOKEN",e),a.token){n.next=4;break}return n.abrupt("return");case 4:return n.prev=4,n.next=7,i.a.get("auth/user");case 7:o=n.sent,r("SET_USER",o.data),n.next=15;break;case 11:n.prev=11,n.t0=n["catch"](4),r("SET_TOKEN",null),r("SET_USER",null);case 15:case"end":return n.stop()}}),n,null,[[4,11]])})))()},signOut:function(t){return Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.abrupt("return",i.a.post("auth/logout").then((function(){n("SET_TOKEN",null),n("SET_USER",null)})));case 2:case"end":return e.stop()}}),e)})))()}}};r["a"].use(a["a"]);e["a"]=new a["a"].Store({state:{},mutations:{},actions:{},modules:{auth:c}})},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("TheNavigation"),n("router-view")],1)},o=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"nav"},[n("ul",{staticClass:"links"},[n("li",{staticClass:"link logo"},[t._v("WeDevs")]),t.authenticated?[n("li",{staticClass:"link"},[n("router-link",{attrs:{to:{name:"Dashboard"}}},[t._v("Dashboard")])],1),n("li",{staticClass:"link"},[n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.signOut(e)}}},[t._v("Logout")])]),n("li",{staticClass:"margin-left user-name"},[t._v(t._s(t.user.name))])]:[n("li",{staticClass:"link"},[n("router-link",{attrs:{to:{name:"SignIn"}}},[t._v("Sign in")])],1),n("li",{staticClass:"link"},[n("router-link",{attrs:{to:{name:"SignUp"}}},[t._v("Sign up")])],1)]],2)])},i=[],c=(n("ac1f"),n("5319"),n("5530")),s=n("2f62"),d={name:"Home",components:{},computed:Object(c["a"])({},Object(s["c"])({authenticated:"auth/authenticated",user:"auth/user"})),methods:Object(c["a"])(Object(c["a"])({},Object(s["b"])({signOutAction:"auth/signOut"})),{},{signOut:function(){var t=this;this.signOutAction().then((function(){t.$router.replace({name:"SignIn"})}))}})},l=d,p=(n("f18a"),n("2877")),f=Object(p["a"])(l,u,i,!1,null,"9accae28",null),h=f.exports,m={components:{TheNavigation:h}},g=m,b=(n("034f"),Object(p["a"])(g,a,o,!1,null,null,null)),v=b.exports,E=(n("d3b7"),n("8c4f")),S=n("4360");r["a"].use(E["a"]);var y=[{path:"/",name:"SignIn",component:function(){return n.e("signin").then(n.bind(null,"54e2"))}},{path:"/sign-up",name:"SignUp",component:function(){return n.e("signup").then(n.bind(null,"5c9c"))}},{path:"/dashboard",name:"Dashboard",component:function(){return n.e("dashboard").then(n.bind(null,"7277"))},beforeEnter:function(t,e,n){if(!S["a"].getters["auth/authenticated"])return n({name:"SignIn"});n()}},{path:"/product-add",name:"ProductAdd",component:function(){return n.e("productAdd").then(n.bind(null,"510a"))},beforeEnter:function(t,e,n){if(!S["a"].getters["auth/authenticated"])return n({name:"SignIn"});n()}},{path:"/product-edit/:id",name:"ProductEdit",component:function(){return n.e("productEdit").then(n.bind(null,"d388"))},beforeEnter:function(t,e,n){if(!S["a"].getters["auth/authenticated"])return n({name:"SignIn"});n()}}],O=new E["a"]({mode:"history",base:"/",routes:y}),k=O,_=n("bc3a"),w=n.n(_);n("66c6"),w.a.defaults.baseURL="http://127.0.0.1:8001/api",r["a"].config.productionTip=!1,S["a"].dispatch("auth/attempt",localStorage.getItem("token")).then((function(){new r["a"]({router:k,store:S["a"],render:function(t){return t(v)}}).$mount("#app")}))},"66c6":function(t,e,n){"use strict";n.r(e);var r=n("4360"),a=n("bc3a"),o=n.n(a);r["a"].subscribe((function(t){switch(t.type){case"auth/SET_TOKEN":t.payload?(o.a.defaults.headers.common["Authorization"]="Bearer ".concat(t.payload),localStorage.setItem("token",t.payload)):(o.a.defaults.headers.common["Authorization"]=null,localStorage.removeItem("token"));break}}))},"85ec":function(t,e,n){},c7a1:function(t,e,n){},f18a:function(t,e,n){"use strict";n("c7a1")}});
//# sourceMappingURL=app.bbfd6b30.js.map